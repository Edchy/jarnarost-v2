---
import Carousels from "./Carousels.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<div class="wrapper">
  <div class="text">
    <h2>{title}</h2>
  </div>
  <div>
    <img src="/images/gallery/img11.avif" />
  </div>
  <div class="smiley">
    <img src="/images/decorations/smile-transformed.png" />
  </div>
  <div>
    <img src="/images/gallery/img12.avif" />
  </div>
  <div>
    <img src="/images/gallery/img13.avif" />
  </div>

  <div class="text">
    <!-- <img src="/images/gallery/img14.avif" /> -->
    <p>
      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Aliquid,
      eligendi.
    </p>
  </div>
  <!-- <div>
    <img src="/images/gallery/img15.avif" />
  </div>
  <div>
    <img src="/images/gallery/img16.avif" />
  </div>
  <div>
    <img src="/images/gallery/img17.avif" />
  </div>
</div> -->

  <style>
    .smiley {
      background-color: var(--color-6);
    }
    .text {
      display: flex;
      align-items: center;
      background-color: var(--color-3);
      padding: 1rem;
      text-align: left;
    }
    h2 {
      font-size: var(--size-fluid-4);
      text-align: right;
      margin: 0 auto;
    }
    p {
      font-size: 0.75rem;
    }
    .wrapper {
      --_gap: 0.75rem;
      /* --_offset: 10%;
    --_offset-1: calc(var(--_offset) * 1);
    --_offset-2: calc(var(--_offset) * 2);
    --_offset-3: calc(var(--_offset) * 3);
    --_offset-7: calc(var(--_offset) * 7);
    --_offset-8: calc(var(--_offset) * 8);
    --_offset-9: calc(var(--_offset) * 9); */
      /* padding-top: 2rem; */
      max-width: 100%;
      /* width: calc(100% - 4rem); */
      /* min-height: 100vh; */
      margin: auto;
      color: white;
      font-family: system-ui;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      /* grid-auto-rows: fit-content; */
      gap: var(--_gap);
      pointer-events: none;
      transform-style: preserve-3d;
    }
    .wrapper > div {
      position: relative;
      pointer-events: auto;
      aspect-ratio: 1;
      transition:
        scale 200ms ease-in-out,
        filter 200ms ease-in-out,
        clip-path 200ms ease-in-out 200ms;
      clip-path: polygon(var(--_clip-path));
      transform: translate3d(0, 0, 0);
    }
    .wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    /* .wrapper > div:nth-child(n + 4) {
    margin-top: calc(var(--_offset-3) * -1 + var(--_gap));
  }
  .wrapper > div:nth-child(1) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-9), 0 100%;
  }
  .wrapper > div:nth-child(2) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-8), 0 var(--_offset-9);
  }
  .wrapper > div:nth-child(3) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-7), 0 var(--_offset-8);
  }

  .wrapper > div:nth-child(4) {
    --_clip-path: 0 var(--_offset-3), 100% var(--_offset-2),
      100% var(--_offset-8), 0 var(--_offset-7);
  }
  .wrapper > div:nth-child(5) {
    --_clip-path: 0 var(--_offset-2), 100% var(--_offset-1),
      100% var(--_offset-9), 0 var(--_offset-8);
  }
  .wrapper > div:nth-child(6) {
    --_clip-path: 0 var(--_offset-1), 100% 0%, 100% 100%, 0 var(--_offset-9);
  }

  .wrapper > div:nth-child(7) {
    --_clip-path: 0 0%, 100% var(--_offset-1), 100% 100%, 0 100%;
  }
  .wrapper > div:nth-child(8) {
    --_clip-path: 0 var(--_offset-1), 100% var(--_offset-2), 100% 100%, 0 100%;
  }
  .wrapper > div:nth-child(9) {
    --_clip-path: 0 var(--_offset-2), 100% var(--_offset-3), 100% 100%, 0 100%;
  } */

    .wrapper > div:hover {
      transition:
        scale 300ms ease-in-out,
        filter 300ms ease-in-out,
        clip-path 300ms ease-in-out 300ms;
      scale: 1.3;
      --_clip-path: 0 0, 100% 0, 100% 100%, 0 100%;
      z-index: 100;
      opacity: 1;
    }

    .wrapper:has(:hover) > div:not(:hover) {
      filter: grayscale(1) blur(3px);
      opacity: 0.5;
      scale: 0.9;
    }
    .wrapper > div:not(:hover) {
      animation: zIndexHack 1000ms;
    }

    @keyframes zIndexHack {
      0%,
      100% {
        z-index: 100;
      }
    }
  </style>
</div>
